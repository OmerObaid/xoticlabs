{"ast":null,"code":"import React from\"react\";import*as Yup from\"yup\";import{Formik,Field,Form,ErrorMessage}from\"formik\";import{Link}from\"react-router-dom\";import{BehaviorSubject}from\"rxjs\";import logoImage from\"../../assets/images/xotic-logo.png\";import bannerImage from\"../../assets/images/login-Banner.png\";import{PROJECT_NAME}from\"../constants\";import{AuthenticationService}from\"../../jwt/_services\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var currentUserSubject=new BehaviorSubject(JSON.parse(localStorage.getItem(\"currentUser\")));var Login=function Login(props){return/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsx(\"div\",{className:\"bodyClone\",children:/*#__PURE__*/_jsx(\"main\",{className:\"loginPage\",children:/*#__PURE__*/_jsxs(\"section\",{className:\"loginBody\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"loginForm\",children:[/*#__PURE__*/_jsx(\"img\",{src:logoImage,alt:\"logo\",className:\"logo\"}),/*#__PURE__*/_jsx(\"h1\",{children:\"Log into Xotic Labs\"}),/*#__PURE__*/_jsx(Formik,{initialValues:{email:\"client@xoticlabs.com\",password:\"123\"},validationSchema:Yup.object().shape({email:Yup.string().required(\"Email is required\"),password:Yup.string().required(\"Password is required\")}),onSubmit:function onSubmit(_ref,_ref2){var email=_ref.email,password=_ref.password;var setStatus=_ref2.setStatus,setSubmitting=_ref2.setSubmitting;setStatus();AuthenticationService.login(email,password).then(function(user){var _ref3=props.location.state||{from:{pathname:\"/\"}},from=_ref3.from;console.log(props.location);console.log(from);props.history.push(from);},function(error){// console.log(error);\nsetSubmitting(false);setStatus(error);});},render:function render(_ref4){var errors=_ref4.errors,status=_ref4.status,touched=_ref4.touched,isSubmitting=_ref4.isSubmitting;return/*#__PURE__*/_jsxs(Form,{children:[status&&/*#__PURE__*/_jsx(\"div\",{className:\"alert alert-danger\",children:status}),/*#__PURE__*/_jsxs(\"div\",{className:\"inputFields\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"label\",children:/*#__PURE__*/_jsx(\"label\",{htmlFor:\"email\",children:\"Email address\"})}),/*#__PURE__*/_jsx(Field,{name:\"email\",id:\"email\",type:\"text\",placeholder:\"Email\"}),/*#__PURE__*/_jsx(ErrorMessage,{name:\"email\",component:\"div\",className:\"invalid-feedback\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"inputFields\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"label\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"password\",children:\"Password\"}),/*#__PURE__*/_jsx(\"a\",{href:\"#\",children:\"Forgot your password?\"})]}),/*#__PURE__*/_jsx(Field,{name:\"password\",id:\"password\",type:\"password\",placeholder:\"Password\"}),/*#__PURE__*/_jsx(ErrorMessage,{name:\"password\",component:\"div\",className:\"invalid-feedback\"})]}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",disabled:isSubmitting,children:\"LOG IN\"}),/*#__PURE__*/_jsxs(\"p\",{className:\"ct-signUp\",children:[\"Don\\u2019t have an account yet? \",/*#__PURE__*/_jsx(Link,{to:\"/Signup\",children:\"Sign Up\"})]})]});}}),/*#__PURE__*/_jsxs(\"p\",{className:\"copyright\",children:[\"Copyright \\xA9 \",new Date().getFullYear(),\" \",PROJECT_NAME]})]}),/*#__PURE__*/_jsx(\"img\",{src:bannerImage,alt:\"logo\",className:\"bg-img\"})]})})})});};export default Login;","map":{"version":3,"sources":["/Users/omerobaid/Projects/react-projects/xotic-labs/src/views/authentication/Login.js"],"names":["React","Yup","Formik","Field","Form","ErrorMessage","Link","BehaviorSubject","logoImage","bannerImage","PROJECT_NAME","AuthenticationService","currentUserSubject","JSON","parse","localStorage","getItem","Login","props","email","password","object","shape","string","required","setStatus","setSubmitting","login","then","user","location","state","from","pathname","console","log","history","push","error","errors","status","touched","isSubmitting","Date","getFullYear"],"mappings":"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","sourcesContent":["import React from \"react\"\nimport * as Yup from \"yup\";\nimport { Formik, Field, Form, ErrorMessage } from \"formik\";\nimport { Link } from \"react-router-dom\";\nimport { BehaviorSubject } from \"rxjs\";\n\nimport logoImage from \"../../assets/images/xotic-logo.png\";\nimport bannerImage from \"../../assets/images/login-Banner.png\";\nimport { PROJECT_NAME } from \"../constants\";\nimport { AuthenticationService } from \"../../jwt/_services\";\n\n\nconst currentUserSubject = new BehaviorSubject(\n    JSON.parse(localStorage.getItem(\"currentUser\"))\n);\n\nconst Login = (props) => {\n    return <>\n        <div className=\"bodyClone\">\n            <main className=\"loginPage\">\n                <section className=\"loginBody\">\n                    <div className=\"loginForm\">\n                        <img src={logoImage} alt=\"logo\" className=\"logo\" />\n                        <h1>Log into Xotic Labs</h1>\n                        <Formik\n\n                            initialValues={{\n                                email: \"client@xoticlabs.com\",\n                                password: \"123\",\n                            }}\n                            validationSchema={Yup.object().shape({\n                                email: Yup.string().required(\"Email is required\"),\n                                password: Yup.string().required(\"Password is required\"),\n                            })}\n                            onSubmit={(\n                                { email, password },\n                                { setStatus, setSubmitting }\n                            ) => {\n                                setStatus();\n                                AuthenticationService.login(email, password).then(\n                                    (user) => {\n                                        const { from } = props.location.state || {\n                                            from: { pathname: \"/\" },\n                                        };\n                                        console.log(props.location);\n                                        console.log(from);\n                                        props.history.push(from);\n\n                                    },\n                                    (error) => {\n                                        // console.log(error);\n                                        setSubmitting(false);\n                                        setStatus(error);\n                                    }\n                                );\n                            }}\n\n                            render={({ errors, status, touched, isSubmitting }) => (\n                                <Form>\n\n                                    {status && (\n                                        <div className={\"alert alert-danger\"}>{status}</div>\n                                    )}\n\n                                    <div className=\"inputFields\">\n                                        <div className=\"label\">\n                                            <label htmlFor=\"email\">Email address</label>\n                                        </div>\n                                        <Field name=\"email\" id=\"email\" type=\"text\" placeholder=\"Email\" />\n                                        <ErrorMessage\n                                            name=\"email\"\n                                            component=\"div\"\n                                            className=\"invalid-feedback\"\n                                        />\n                                    </div>\n                                    <div className=\"inputFields\">\n                                        <div className=\"label\">\n                                            <label htmlFor=\"password\">Password</label>\n                                            <a href=\"#\">Forgot your password?</a>\n                                        </div>\n                                        <Field name=\"password\" id=\"password\" type=\"password\" placeholder=\"Password\" />\n                                        <ErrorMessage\n                                            name=\"password\"\n                                            component=\"div\"\n                                            className=\"invalid-feedback\"\n                                        />\n                                    </div>\n                                    <button type=\"submit\" disabled={isSubmitting}>LOG IN</button>\n                                    <p className=\"ct-signUp\">Don’t have an account yet? <Link to={`/Signup`}>Sign Up</Link></p>\n\n                                </Form>\n                            )}\n                        />\n                        <p className=\"copyright\">Copyright © {new Date().getFullYear()} {PROJECT_NAME}</p>\n                    </div>\n                    <img src={bannerImage} alt=\"logo\" className=\"bg-img\" />\n                </section>\n            </main>\n        </div>\n    </>\n}\n\nexport default Login\n"]},"metadata":{},"sourceType":"module"}